@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Shared app header height for perfect alignment */
  --app-header-h: 76px;
}

/* Apply Geist as the default font stacks */
@layer base {
  :root {
    --font-sans: "Geist Sans";
    --font-mono: "Geist Mono";
  }
  html {
    font-family:
      var(--font-sans),
      ui-sans-serif,
      system-ui,
      -apple-system,
      "Segoe UI",
      Roboto,
      "Helvetica Neue",
      Arial,
      "Noto Sans",
      "Apple Color Emoji",
      "Segoe UI Emoji",
      "Segoe UI Symbol",
      "Noto Color Emoji";
  }
  body {
    font-family: inherit;
  }
  code,
  pre,
  kbd,
  samp {
    font-family:
      var(--font-mono), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      "Liberation Mono", "Courier New", monospace;
  }
}

/* Respect reduced motion: disable non-essential animations/transitions */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Increase contrast support */
@media (prefers-contrast: more) {
  .shadow,
  .shadow-md,
  .shadow-lg {
    --tw-shadow-color: rgba(0, 0, 0, 0.25);
    --tw-shadow:
      0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
  }
}

/* (Removed non-standard prefers-reduced-transparency media query) */

/* -------------------------------------------------------------------------- */
/*  Global minimum touch target size                                          */
/*  WCAG / Apple HIG / Material guidelines recommend 44x44px (or 48x48) for   */
/*  interactive controls. We enforce a logical minimum using an attribute so  */
/*  components can just add data-touch-target instead of repeating inline     */
/*  styles. Padding / layout can still shrink visual affordance; extra        */
/*  hit-area is provided via transparent bounds.                              */
/* -------------------------------------------------------------------------- */
[data-touch-target] {
  min-width: 44px;
  min-height: 44px;
  /* Ensure inline-flex / flex items don't collapse the hit area if empty */
  position: relative;
}

/* When a control is visually smaller (icon-only, etc.), center the content */
[data-touch-target].icon-only > svg,
[data-touch-target].icon-only > * {
  pointer-events: none;
}

/* Provide a utility class for explicit cases (fallback) */
.touch-target {
  min-width: 44px;
  min-height: 44px;
}
